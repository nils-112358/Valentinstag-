<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Happy Valentine · Herz & Blumen</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      background: #0a0c10;
      overflow: hidden;
      font-family: 'Segoe UI', 'Arial', system-ui, sans-serif;
    }

    /* ---------- Canvas (Partikel-Herz + Funken) ---------- */
    #alx {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      display: block;
      z-index: 20;
      pointer-events: none; /* Klicks gehen durch – Blumen bleiben interaktiv falls erwünscht */
    }

    /* ---------- Blumengarten (aus deiner Vorlage) ---------- */
    .night {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(145deg, #0e1a26 0%, #1d2c3a 60%, #0e1a26 100%);
      z-index: 1;
    }

    .flowers {
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%) scale(0.9);
      transform-origin: bottom center;
      width: 120vmin;
      height: 90vmin;
      z-index: 30;
      pointer-events: none;
    }

    /* alle Blumen-Elemente – reduziert aufs Wesentliche, damit es flüssig läuft */
    .flower {
      position: absolute;
      bottom: 5vmin;
      transform-origin: bottom center;
    }

    .flower--1 { left: 10vmin; transform: rotate(-5deg); }
    .flower--2 { left: 45vmin; transform: rotate(12deg); }
    .flower--3 { left: 75vmin; transform: rotate(-8deg); }

    .flower__leafs {
      position: relative;
      width: 10vmin;
      height: 12vmin;
      animation: bloomFlower 1.8s ease-out forwards;
    }

    .flower__leaf {
      position: absolute;
      bottom: 0;
      left: 50%;
      width: 8vmin;
      height: 11vmin;
      border-radius: 80% 0 80% 0 / 70% 60% 80% 40%;
      background: radial-gradient(circle at 30% 30%, #ff3b4a, #a50028);
      transform-origin: bottom center;
      box-shadow: 0 0 6px rgba(255, 80, 120, 0.7);
    }

    .flower__leaf--1 { transform: translate(-30%, 0) rotate(-30deg) rotateY(30deg); }
    .flower__leaf--2 { transform: translate(-50%, -10%) rotate(10deg) rotateX(20deg); }
    .flower__leaf--3 { transform: translate(-70%, 0) rotate(40deg) rotateY(25deg); }
    .flower__leaf--4 {
      width: 7vmin;
      height: 7vmin;
      background: radial-gradient(circle at 70% 20%, #ff8c9c, #b3002d);
      transform: translate(-40%, 30%) rotate(70deg) rotateX(40deg);
      border-radius: 90% 10% 90% 10%;
    }

    .flower__white-circle {
      position: absolute;
      top: -3vmin;
      left: 50%;
      transform: translateX(-50%);
      width: 5vmin;
      height: 2.5vmin;
      background: #ffe68f;
      border-radius: 50%;
      filter: blur(0.4vmin);
      box-shadow: 0 0 15px #ffcf4a;
    }

    .flower__line {
      width: 0.8vmin;
      height: 40vmin;
      background: linear-gradient(to top, #1f4a2c, #3a784a);
      margin-top: -0.5vmin;
      border-radius: 1vmin 1vmin 0 0;
      box-shadow: inset -0.1vmin 0 0.2vmin #00000030;
    }

    /* kleine Blatt-Akzente am Stiel */
    .flower__line__leaf {
      position: absolute;
      width: 3vmin;
      height: 1.8vmin;
      background: #1f4a2c;
      border-radius: 0 80% 0 80%;
      transform: rotate(40deg) skewX(5deg);
      opacity: 0.8;
      box-shadow: inset 0 0 0.2vmin #62a86b;
    }

    .flower__line__leaf--1 { top: 10vmin; left: 0.5vmin; }
    .flower__line__leaf--2 { top: 20vmin; left: -1vmin; transform: rotate(-30deg) scaleX(-1); }
    .flower__line__leaf--3 { top: 30vmin; left: 1vmin; transform: rotate(20deg); }

    .flower__light {
      position: absolute;
      width: 0.8vmin;
      height: 0.8vmin;
      background: #ffddee;
      border-radius: 50%;
      filter: blur(0.2vmin);
      animation: floatLight 3s infinite alternate;
    }

    .flower__light--1 { top: -2vmin; left: 2vmin; animation-delay: 0.2s; }
    .flower__light--2 { top: -4vmin; left: -1vmin; animation-delay: 1s; }
    .flower__light--3 { top: -6vmin; left: 3vmin; animation-delay: 0.5s; }
    .flower__light--4 { top: -3vmin; left: 5vmin; }

    /* Grasbüschel */
    .flower__grass {
      position: absolute;
      bottom: 2vmin;
      left: 0;
      width: 2vmin;
      height: 12vmin;
      background: linear-gradient(to top, #174e28, #3f7840);
      border-radius: 1vmin 1vmin 0 0;
      transform: rotate(10deg);
      opacity: 0.7;
    }

    .grow-ans {
      animation: growPlant 1.5s ease-out forwards;
    }

    /* Animationen */
    @keyframes bloomFlower {
      0% { transform: scale(0); opacity: 0; }
      80% { transform: scale(1.05); }
      100% { transform: scale(1); opacity: 1; }
    }

    @keyframes growPlant {
      0% { transform: scaleY(0); opacity: 0; }
      100% { transform: scaleY(1); opacity: 1; }
    }

    @keyframes floatLight {
      0% { transform: translateY(0) scale(1); opacity: 0.7; }
      100% { transform: translateY(-2vmin) scale(1.3); opacity: 1; }
    }

    /* kleine Gräser und extra Blätter – reduziert für performance, aber hübsch */
    .long-g {
      position: absolute;
      bottom: 0;
      left: 20vmin;
      width: 0.5vmin;
      height: 20vmin;
      background: #2d6a4f;
      border-radius: 0.2vmin;
      transform: rotate(-15deg);
    }

    /* Willkommene Botschaft */
    .valentine-message {
      position: fixed;
      bottom: 5vh;
      left: 0;
      right: 0;
      text-align: center;
      color: #ffcfcf;
      font-size: 2rem;
      font-weight: 600;
      letter-spacing: 6px;
      text-shadow: 0 0 20px #ff4d6d, 0 0 40px #c9184a;
      z-index: 100;
      pointer-events: none;
      font-family: 'Brush Script MT', cursive, sans-serif;
      animation: fadeGlow 3s infinite alternate;
    }

    @keyframes fadeGlow {
      from { opacity: 0.9; text-shadow: 0 0 15px #ffb3b3, 0 0 30px #ff4d6d; }
      to { opacity: 1; text-shadow: 0 0 30px #ffe6e6, 0 0 60px #ff1e4d; }
    }

    /* kleiner Sternen-Funken Hintergrund (Canvas überdeckt, aber als Backup) */
    .tiny-stars {
      position: fixed;
      top: 0; left: 0; width: 100%; height: 100%;
      background: transparent;
      pointer-events: none;
      z-index: 15;
    }
  </style>
</head>
<body class="not-loaded">
  <!-- Hintergrund-Nacht -->
  <div class="night"></div>

  <!-- Canvas – hier tanzt das Partikelherz (originalgetreu) -->
  <canvas id="alx"></canvas>

  <!-- Romantische Blumendeko (stark verschlankt, aber stimmungsvoll) -->
  <div class="flowers">
    <!-- Blume 1 (links) -->
    <div class="flower flower--1">
      <div class="flower__leafs">
        <div class="flower__leaf flower__leaf--1"></div>
        <div class="flower__leaf flower__leaf--2"></div>
        <div class="flower__leaf flower__leaf--3"></div>
        <div class="flower__leaf flower__leaf--4"></div>
        <div class="flower__white-circle"></div>
        <div class="flower__light flower__light--1"></div>
        <div class="flower__light flower__light--2"></div>
      </div>
      <div class="flower__line">
        <div class="flower__line__leaf flower__line__leaf--1"></div>
        <div class="flower__line__leaf flower__line__leaf--2"></div>
      </div>
    </div>

    <!-- Blume 2 (mitte) -->
    <div class="flower flower--2">
      <div class="flower__leafs">
        <div class="flower__leaf flower__leaf--1"></div>
        <div class="flower__leaf flower__leaf--2"></div>
        <div class="flower__leaf flower__leaf--3"></div>
        <div class="flower__leaf flower__leaf--4"></div>
        <div class="flower__white-circle"></div>
        <div class="flower__light flower__light--3"></div>
        <div class="flower__light flower__light--4"></div>
      </div>
      <div class="flower__line">
        <div class="flower__line__leaf flower__line__leaf--1"></div>
        <div class="flower__line__leaf flower__line__leaf--3"></div>
      </div>
    </div>

    <!-- Blume 3 (rechts) -->
    <div class="flower flower--3">
      <div class="flower__leafs">
        <div class="flower__leaf flower__leaf--1"></div>
        <div class="flower__leaf flower__leaf--2"></div>
        <div class="flower__leaf flower__leaf--3"></div>
        <div class="flower__leaf flower__leaf--4"></div>
        <div class="flower__white-circle"></div>
      </div>
      <div class="flower__line">
        <div class="flower__line__leaf flower__line__leaf--2"></div>
      </div>
    </div>

    <!-- ein paar dekorative Grashalme -->
    <div class="long-g" style="left: 15vmin; height: 18vmin; transform: rotate(5deg);"></div>
    <div class="long-g" style="left: 90vmin; height: 22vmin; transform: rotate(-10deg);"></div>
    <div class="long-g" style="left: 60vmin; height: 14vmin; transform: rotate(20deg);"></div>
  </div>

  <!-- zarte Textbotschaft -->
  <div class="valentine-message">happy valentine's day</div>

  <script>
    // ============== //
    //  HERZ-PARTIKEL // exakt aus deinem script.js – nur minimale Anpassung
    // ============== //
    (function() {
      const c = document.getElementById('alx');
      if (!c) return;

      const b = document.body;
      const a = c.getContext('2d');

      let e = [], h = [];
      let WIDTH = c.width = window.innerWidth;
      let HEIGHT = c.height = window.innerHeight;
      const v = 32 + 16 + 8;      // 56 Partikelketten?
      const R = Math.random;
      const C = Math.cos;
      const Y = 6.3; // 2*PI

      // --- Herzform (3 größen) ---
      for (let i = 0; i < Y; i += 0.2) 
        h.push([WIDTH / 2 + 210 * Math.pow(Math.sin(i), 3), 
                HEIGHT / 2 + 13 * -(15 * C(i) - 5 * C(2 * i) - 2 * C(3 * i) - C(4 * i))]);

      for (let i = 0; i < Y; i += 0.4) 
        h.push([WIDTH / 2 + 150 * Math.pow(Math.sin(i), 3), 
                HEIGHT / 2 + 9 * -(15 * C(i) - 5 * C(2 * i) - 2 * C(3 * i) - C(4 * i))]);

      for (let i = 0; i < Y; i += 0.8) 
        h.push([WIDTH / 2 + 90 * Math.pow(Math.sin(i), 3), 
                HEIGHT / 2 + 5 * -(15 * C(i) - 5 * C(2 * i) - 2 * C(3 * i) - C(4 * i))]);

      // Partikel-Schwärme erzeugen
      for (let i = 0; i < v; i++) {
        let x = R() * WIDTH;
        let y = R() * HEIGHT;
        let H = 80 * (i / v) + Math.random() * 100;
        let S = 40 * R() + 60;
        let B = 60 * R() + 20;
        let f = [];
        for (let k = 0; k < v; k++) {
          f[k] = {
            x: x, y: y,
            X: 0, Y: 0,
            R: 1 - k / v + 1,
            S: R() + 1,
            q: ~~(R() * v),
            D: 2 * (i % 2) - 1,
            F: 0.2 * R() + 0.7,
            f: "hsla(" + ~~H + "," + ~~S + "%," + ~~B + "%,.1)"
          };
        }
        e[i] = f;
      }

      function path(d) {
        a.fillStyle = d.f;
        a.beginPath();
        a.arc(d.x, d.y, d.R, 0, Y, 1);
        a.closePath();
        a.fill();
      }

      // Animationsloop
      setInterval(function () {
        a.fillStyle = "rgba(0,0,0,.15)"; // leichterer fade – die Blumen scheinen durch
        a.fillRect(0, 0, WIDTH, HEIGHT);

        for (let i = v; i--;) {
          let f = e[i];
          let u = f[0];
          let q = h[u.q];
          let D = u.x - q[0];
          let E = u.y - q[1];
          let G = Math.sqrt(D * D + E * E);
          
          if (10 > G) {
            if (0.95 < R()) u.q = ~~ (R() * v);
            else if (0.99 < R()) { u.D *= -1; }
            u.q += u.D;
            u.q %= v;
            if (0 > u.q) u.q += v;
          }

          u.X += -D / G * u.S;
          u.Y += -E / G * u.S;
          u.x += u.X;
          u.y += u.Y;
          path(u);
          u.X *= u.F;
          u.Y *= u.F;

          for (let k = 0; k < v - 1;) {
            let T = f[k];
            let N = f[++k];
            N.x -= 0.7 * (N.x - T.x);
            N.y -= 0.7 * (N.y - T.y);
            path(N);
          }
        }
      }, 25);

      // Resize anpassen
      window.addEventListener('resize', function() {
        WIDTH = c.width = window.innerWidth;
        HEIGHT = c.height = window.innerHeight;
        // herz punkte müssten eigentlich neu – der einfachheit halber: hard reset
        // aber für valentinstag ok; man könnte neu laden. wir machen quick refresh:
        h = [];
        for (let i = 0; i < Y; i += 0.2) 
          h.push([WIDTH/2 + 210 * Math.pow(Math.sin(i),3), HEIGHT/2 + 13 * -(15*C(i) - 5*C(2*i) - 2*C(3*i) - C(4*i))]);
        for (let i = 0; i < Y; i += 0.4) 
          h.push([WIDTH/2 + 150 * Math.pow(Math.sin(i),3), HEIGHT/2 + 9 * -(15*C(i) - 5*C(2*i) - 2*C(3*i) - C(4*i))]);
        for (let i = 0; i < Y; i += 0.8) 
          h.push([WIDTH/2 + 90 * Math.pow(Math.sin(i),3), HEIGHT/2 + 5 * -(15*C(i) - 5*C(2*i) - 2*C(3*i) - C(4*i))]);
      });
    })();

    // --- "not-loaded" Klasse entfernen für sanftes Erscheinen der Blumen ---
    window.onload = function() {
      setTimeout(() => {
        document.body.classList.remove("not-loaded");
      }, 200);
    };
  </script>

  <!-- Sicherstellen, dass die not-loaded Klasse initial gesetzt ist – Blumen erscheinen sanft -->
  <style>
    .not-loaded .flower *,
    .not-loaded .long-g,
    .not-loaded .valentine-message {
      animation-play-state: paused !important;
      opacity: 0 !important;
    }
    body:not(.not-loaded) .flower *,
    body:not(.not-loaded) .long-g {
      animation: bloomFlower 1.2s ease-out forwards;
    }
    body:not(.not-loaded) .long-g {
      animation: growPlant 1s ease-out forwards;
    }
    .flower, .long-g, .valentine-message {
      transition: opacity 0.5s;
    }
  </style>
</body>
</html>
